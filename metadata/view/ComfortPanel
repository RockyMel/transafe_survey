{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "ComfortPanel",
        "designer|userClassName": "ComfortPanel",
        "id": "ComfortPanel",
        "scrollable": true,
        "style": "background-color: white"
    },
    "designerId": "62510ad7-283f-4b84-b99d-e39be9b69017",
    "cn": [
        {
            "type": "linkedinstance",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "comfortRibbon"
            },
            "designerId": "0483b598-fa6d-4cda-9127-f79876c5f4b4",
            "masterInstanceId": "2278e154-e735-4a69-b9ba-4ef807082f2f"
        },
        {
            "type": "Ext.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "centered": false
            },
            "designerId": "fa268854-3443-4ab8-90e6-cf6763dd72ec",
            "cn": [
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "7287af81-9525-47ee-b960-5674ff18a5f3",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "clearIcon": false,
                                "designer|displayName": "hotorcold",
                                "docked": null,
                                "id": "sliderHotCold",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "minWidth": "70%",
                                "name": "",
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "6750ef4c-5ece-4eb2-8031-b1c9a2ea96c8"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Cold",
                                "docked": "left",
                                "html": "Hot",
                                "style": "color:red;",
                                "styleHtmlContent": true
                            },
                            "designerId": "8f446d4d-f2ae-4abf-a5b2-8d0dc9c83514"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "cold",
                                "docked": "right",
                                "html": "Cold",
                                "styleHtmlContent": true
                            },
                            "designerId": "44f0ce81-bd08-4bd1-82ae-86e3880a18a1"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "f94d37e7-9c11-4a6e-b811-c5800ea03c62",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "noisyorquiet",
                                "id": "sliderNoisyQuiet",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "minWidth": "",
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "4e28d42e-fb6f-49b6-bd27-1bffdd49af46"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "noisy",
                                "docked": "left",
                                "html": "Noisy",
                                "styleHtmlContent": true
                            },
                            "designerId": "1b84ba51-a740-44e8-853b-132ef11f0810"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "quiet",
                                "docked": "right",
                                "html": "Quiet",
                                "styleHtmlContent": true
                            },
                            "designerId": "d66e4526-1546-4b23-b4c8-5b6f14f6d52a"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "638d02c5-c548-4c25-8e3c-067a9bef87b9",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "crowdedorempty",
                                "id": "sliderCrowdedEmpty",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "d8f2cb40-8419-454a-9987-8bba17b6c35b"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Crowded",
                                "docked": "left",
                                "html": "Crowded",
                                "styleHtmlContent": true
                            },
                            "designerId": "1ea70e6b-65c1-438d-826d-57b794ce773d"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Empty",
                                "docked": "right",
                                "html": "Empty",
                                "styleHtmlContent": true
                            },
                            "designerId": "2367d852-c038-4e6e-bcb5-aee550c6f6a1"
                        }
                    ]
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "centered": false,
                        "designer|displayName": "ComfortLabel",
                        "docked": "top",
                        "html": "Are you Comfortable?"
                    },
                    "designerId": "43ceac8b-abe5-4bfe-b6be-36d829f50c5a"
                }
            ]
        },
        {
            "type": "Ext.field.Slider",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|displayName": "comfortlevel",
                "id": "sliderComfortLevel",
                "label": "Comfort Level",
                "labelAlign": "top",
                "value": [
                    50
                ]
            },
            "designerId": "4726951e-3bc3-4c61-acfb-b6b34e3d4c2d"
        },
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|uiInterfaceName": "confirm",
                "docked": null,
                "itemId": "mybutton8",
                "text": "Submit",
                "ui": "confirm"
            },
            "designerId": "cfa5d825-f599-4303-ab42-c49cb2a12126",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "button",
                            "e"
                        ],
                        "fn": "handler",
                        "implHandler": [
                            "var currentdate = new Date();",
                            "var feelingsSurveyId;",
                            "var timestamp = currentdate.getFullYear() + \"-\"+(currentdate.getMonth()+1)  + \"-\" + currentdate.getDate() + \" \"  + currentdate.getHours() + \"-\"  + currentdate.getMinutes() + \"-\" + currentdate.getSeconds();",
                            "var chosenVenue = Ext.getCmp('venueLblSurvey').getHtml();",
                            "chosenVenue = chosenVenue.replace('You are at ','');",
                            "/*\tgetting feelings' values.",
                            "*\tif < 0 this is a negative feeling Sad rather than Happy, Angry rather than Peacful etc.",
                            "*\tfor this we calculate |val| and store it in an array along with all the others.",
                            "*\tif = 0 this is neutral",
                            "*\tif > 0 this is a positive feeling",
                            "*/",
                            "var tempFeelingArray = new Array();",
                            "tempFeelingArray.push(Ext.getCmp('sliderHappySad').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderExcitedBored').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderSafeScared').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderPeacefulAngry').getValue()[0]);",
                            "var feelingsValues = new Array();",
                            "console.log(tempFeelingArray);",
                            "for(var i = 0; i < 4; i++){",
                            "    feelingsValues=setFeelings(feelingsValues, tempFeelingArray[i]);",
                            "}",
                            "var tempComfortArray = new Array();",
                            "tempComfortArray.push(Ext.getCmp('sliderHotCold').getValue()[0]);",
                            "tempComfortArray.push(Ext.getCmp('sliderNoisyQuiet').getValue()[0]);",
                            "tempComfortArray.push(Ext.getCmp('sliderCrowdedEmpty').getValue()[0]);",
                            "//tempComfortArray.push(Ext.getCmp('sliderComfortLevel').getValue()[0]);",
                            "console.log(tempComfortArray);",
                            "var comfortValues = new Array();",
                            "for(var i = 0; i < 3; i++){",
                            "    comfortValues=setFeelings(comfortValues, tempComfortArray[i]);",
                            "}",
                            "comfortValues.push(Ext.getCmp('sliderComfortLevel').getValue()[0]);",
                            "console.log(feelingsValues);",
                            "console.log(chosenVenue);",
                            "console.log(localStorage.getItem('ifLogged') + ', ' + localStorage.getItem('username'));",
                            "getVoteResultsFromSurvey(feelingsValues);",
                            "// anonimous users",
                            "if(localStorage.getItem('ifLogged') == 'Invalid User' | localStorage.getItem('ifLogged') === '' | localStorage.getItem('ifLogged') == 'null' | localStorage.getItem('ifLogged') === null){",
                            "     Ext.data.JsonP.request({",
                            "",
                            "    url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveSurveyAnonymous',",
                            "     params: {",
                            "         timestamp : timestamp,",
                            "         location: chosenVenue,",
                            "         feeling: SAD_TO_SERVER()+'|'+feelingsValues[SAD_INDEX] + '|' +",
                            "         HAPPY_TO_SERVER()+'|'+feelingsValues[HAPPY_INDEX] + '|' +",
                            "         BORED_TO_SERVER()+'|'+feelingsValues[BORED_INDEX] + '|' +",
                            "         EXCITED_TO_SERVER()+'|'+feelingsValues[EXCITED_INDEX] + '|' +",
                            "         SCARED_TO_SERVER()+'|'+feelingsValues[SCARED_INDEX] + '|' +",
                            "         SAFE_TO_SERVER()+'|'+feelingsValues[SAFE_INDEX] + '|' +",
                            "         ANGRY_TO_SERVER()+'|'+feelingsValues[ANGRY_INDEX] + '|' +",
                            "         PEACEFUL_TO_SERVER()+'|'+feelingsValues[PEACEFUL_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        feelingsSurveyId = response.return;",
                            "                        console.log(response.return);",
                            "",
                            "",
                            "                         // request for comfort data",
                            "    console.log('survey id: ' + feelingsSurveyId);",
                            "",
                            "     Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveComfortLevelAnonymouse',",
                            "     params: {",
                            "         surveyID: feelingsSurveyId,",
                            "         comfort: HOT_TO_SERVER()+'|'+comfortValues[HOT_INDEX]+'|'+",
                            "         COLD_TO_SERVER()+'|'+comfortValues[COLD_INDEX]+'|'+",
                            "         NOISY_TO_SERVER()+'|'+comfortValues[NOISY_INDEX]+'|'+",
                            "         QUIET_TO_SERVER()+'|'+comfortValues[QUITE_INDEX]+'|'+",
                            "         FULL_TO_SERVER()+'|'+comfortValues[FULL_INDEX]+'|'+",
                            "         EMPTY_TO_SERVER()+'|'+comfortValues[EMPTY_INDEX]+'|'+",
                            "         COMFORT_TO_SERVER()+'|'+comfortValues[COMFORT_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        Ext.Msg.alert('Thank you!', 'You have sucessfully voted');",
                            "//                         feelingsSurveyId = response.return;",
                            "//                         console.log(response.return);",
                            "",
                            "                         Ext.Viewport.setActiveItem('StatisticsTabPanel',{",
                            "                            type: \"slide\",",
                            "                            direction: \"left\"",
                            "                        });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "",
                            "",
                            "//                          Ext.Viewport.setActiveItem('stattabpanel',{",
                            "//                             type: \"slide\",",
                            "//                             direction: \"left\"",
                            "//                         });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "}",
                            "",
                            "else{",
                            "    // registered logged in users",
                            "    Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveSurveyDistinctive',",
                            "     params: {",
                            "         timestamp : timestamp,",
                            "         location: chosenVenue,",
                            "         feeling:  SAD_TO_SERVER()+'|'+feelingsValues[SAD_INDEX] + '|' +",
                            "         HAPPY_TO_SERVER()+'|'+feelingsValues[HAPPY_INDEX] + '|' +",
                            "         BORED_TO_SERVER()+'|'+feelingsValues[BORED_INDEX] + '|' +",
                            "         EXCITED_TO_SERVER()+'|'+feelingsValues[EXCITED_INDEX] + '|' +",
                            "         SCARED_TO_SERVER()+'|'+feelingsValues[SCARED_INDEX] + '|' +",
                            "         SAFE_TO_SERVER()+'|'+feelingsValues[SAFE_INDEX] + '|' +",
                            "         ANGRY_TO_SERVER()+'|'+feelingsValues[ANGRY_INDEX] + '|' +",
                            "         PEACEFUL_TO_SERVER()+'|'+feelingsValues[PEACEFUL_INDEX],",
                            "         username: localStorage.getItem('username'),",
                            "         token: localStorage.getItem('ifLogged'),",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        feelingsSurveyId = response.return;",
                            "                        console.log(response.return);",
                            "                         // request for comfort data",
                            "    console.log('survey id: ' + feelingsSurveyId);",
                            "",
                            "     Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveComfortLevelAnonymouse',",
                            "     params: {",
                            "         surveyID: feelingsSurveyId,",
                            "         comfort: HOT_TO_SERVER()+'|'+comfortValues[HOT_INDEX]+'|'+",
                            "         COLD_TO_SERVER()+'|'+comfortValues[COLD_INDEX]+'|'+",
                            "         NOISY_TO_SERVER()+'|'+comfortValues[NOISY_INDEX]+'|'+",
                            "         QUIET_TO_SERVER()+'|'+comfortValues[QUITE_INDEX]+'|'+",
                            "         FULL_TO_SERVER()+'|'+comfortValues[FULL_INDEX]+'|'+",
                            "         EMPTY_TO_SERVER()+'|'+comfortValues[EMPTY_INDEX]+'|'+",
                            "         COMFORT_TO_SERVER()+'|'+comfortValues[COMFORT_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        Ext.Msg.alert('Thank you!', 'You have sucessfully voted');",
                            "//                         feelingsSurveyId = response.return;",
                            "//                         console.log(response.return);",
                            "",
                            "                         Ext.Viewport.setActiveItem('StatisticsTabPanel',{",
                            "                            type: \"slide\",",
                            "                            direction: \"left\"",
                            "                        });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "//                          Ext.Viewport.setActiveItem('stattabpanel',{",
                            "//                             type: \"slide\",",
                            "//                             direction: \"left\"",
                            "//                         });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "",
                            "",
                            "}"
                        ]
                    },
                    "designerId": "bf680e8a-db58-44f9-88de-18762719fbbd"
                }
            ]
        }
    ]
}